MyWineMemory 仕様書 v2.0
1. プロジェクト概要
1.1 基本情報

サイト名: MyWineMemory
URL: my-wine-memory.himazi.com
サイトの目的・コンセプト:

飲んだワインを記録に残せる
ワインの基礎知識を学べる
自分がどんなワインを飲んでどう思ったかを振り返れる


ターゲットユーザー: Dラボでワインを飲み始めた人たち
想定利用シーン:

ワインを飲んでいるときにメモ代わりにスマホで入力
あの時飲んだワインを思い出しながら記録
通勤時間などの暇な時間にあなたの弱いところをクイズとして解く



2. 機能要件
2.1 ユーザー管理機能

ユーザー登録方法: Googleアカウント認証
ログイン方法: Googleアカウント認証
パスワードリセット: なし（Google認証のため）
プロフィール管理:

ニックネームの設定・変更機能
プロフィール画像（Googleアカウントから取得）
獲得バッジの表示
統計情報の表示（記録数、連続記録日数など）



2.2 ワイン記録機能
2.2.1 記録モード

クイック記録モード:

ワイン名（必須）
生産者（必須）
生産国（必須）
生産地域（必須）
総合評価（必須）
簡単メモ（任意）
写真1枚（任意）


詳細記録モード:

すべての項目を入力可能
モード切り替えボタンをUIに配置
クイック記録から後で詳細追記可能



2.2.2 基本情報記録
必須項目

ワイン名
生産者
生産国
生産地域

任意項目

ヴィンテージ
価格
ブドウ品種
アルコール度数
土壌情報
気候
ワインの歴史・背景
ワインメーカー

2.2.3 外観の詳細分析

色調: 紫がかった赤、鮮やかなルビー色、ガーネット色、レンガ色、淡い黄色、緑がかった黄色、金色、琥珀色、淡いピンク、サーモンピンク、オレンジが買ったピンク
濃淡: 淡い、中程度、濃い、不透明
透明度: 澄み切った、透明、やや濁った、濁った
粘性: 軽い、中程度、重い、グリセリン様

2.2.4 香りの段階別分析

第一印象（スワリング前）: 強度評価（1-5スライダー）+ 詳細メモ
スワリング後: 強度評価（1-5スライダー）+ 詳細メモ
香りカテゴリ強度: 7カテゴリをスライダーで評価

果実系、花系、スパイス系、ハーブ系、土系、木系、その他


詳細香り分類: 42種類の香りをチェックボックスで選択

2.2.5 味わいの段階別分析

アタック（第一印象）: 強度評価（1-5）+ 詳細メモ
中盤（発展）: 複雑さ評価（1-5）+ 詳細メモ
フィニッシュ（余韻）: 長さ評価（1-5）+ 秒数計測 + 詳細メモ

2.2.6 構成要素の詳細分析

酸味: 強度評価（1-5）+ 種類選択（酒石酸、リンゴ酸、乳酸、クエン酸）
タンニン: 強度評価（1-5）+ 質感選択（シルキー、ベルベット、ざらつき、収斂性）
甘味: 5段階評価（辛口～極甘口）
ボディ: 5段階評価（ライト～フル）

2.2.7 時間経過による変化記録

記録時間: 開栓直後、30分後、1時間後、2時間後、1日後、2日後、3日後、カスタム
温度: 具体的な温度記録
デキャンタージュ: 有無の記録
変化のメモ: 時間経過による変化の詳細記録

2.2.8 環境・状況情報

環境: 室温、湿度、照明（自然光、暖色系、寒色系、キャンドル、薄暗い）
状況: 気分（リラックス、興奮、集中、疲れ、幸せ、ストレス）
社会的要素: 同席者、特別な機会、場所
道具: グラスの種類（ブルゴーニュ、ボルドー、シャルドネ、シャンパーニュ、ユニバーサル、その他）

2.2.9 画像記録

ワインの画像: ボトル写真
ペアリング画像: 料理写真
色の画像: 色調記録用
ラベル画像: ラベル詳細記録
メモ: 手書きメモの画像

2.2.10 参考情報

販売元サイトURL
Dラボ動画URL
その他参考URL

2.2.11 評価方法

各要素の強度: 1~5のスライダーで評価
総合評価: ★1~10（星をタップして黄色に変更するUI）

2.2.12 下書き保存機能

自動保存: 30秒ごとに自動保存
保存インジケーター: 右下にフローティングボタンで表示
下書き一覧: ホーム画面に「下書きを続ける」カード表示
保存上限: 最大5件まで保持

2.3 検索・フィルター機能

検索条件:

ワインの種類
ワインの名前


ソート機能:

登録日順
総合評価順
価格順


フィルター項目: なし（将来実装予定）

2.4 データ管理機能

ゴミ箱機能:

削除後3日間保持
ゴミ箱画面から復元/完全削除可能
3日経過後に自動完全削除


データエクスポート: なし（将来実装予定）
データインポート: なし（将来実装予定）

2.5 クイズ機能（Duolingo参考）
2.5.1 問題構成

問題数: 1000問（初期はJSONファイルで管理、将来的にFirebaseへ移行）
難易度: 10段階（初級編、中級編、上級編、仙人編など）
各難易度: 100問ずつ
内容: ソムリエ試験から引用
形式: すべて選択式

2.5.2 学習システム

出題方式: 難易度ごとにランダム出題
復習機能: 過去に間違えた問題を日数間隔を開けて再出題
効果音・演出: 学習意欲向上のための演出
レベル表示: 自分のレベル進捗を可視化
連続記録: 学習継続日数の記録
ライフシステム: 5つのハート、間違えると減少、時間で回復

2.5.3 パーソナライズドクイズ

内容: 自分が記録したワイン情報をもとにした問題
回答形式: 自由記述
評価方法: OpenRouter/Groq等のLLM APIで正誤判断とアドバイス

2.6 ゲーミフィケーション機能（Duolingo風）
2.6.1 バッジシステム
記録数バッジ（全12段階）

🥉 ビギナー: 1本
🥉 スターター: 3本
🥉 ルーキー: 5本
🥈 愛好家: 10本
🥈 常連: 25本
🥈 通: 50本
🥇 エキスパート: 100本
🥇 プロ: 200本
💎 マスター: 500本
💎 グランドマスター: 1000本
👑 レジェンド: 2000本
🌟 神: 5000本

連続記録バッジ（全10段階）

🔥 3日連続
🔥 7日連続
🔥🔥 14日連続
🔥🔥 30日連続
🔥🔥🔥 50日連続
⭐ 100日連続
⭐⭐ 200日連続
⭐⭐⭐ 365日連続
💫 500日連続
🌟 1000日連続

クイズバッジ（全15段階）

📚 入門者: 10問正解
📚 初級者: 25問正解
📚 中級者: 50問正解
📖 上級者: 100問正解
📖 優等生: 200問正解
🎓 秀才: 500問正解
🎓 天才: 1000問正解
🧠 賢者: 2000問正解
連続正解バッジ:

⚡ 5問連続
⚡⚡ 10問連続
⚡⚡⚡ 20問連続


完全制覇バッジ:

🏆 初級編完全制覇
🏆 中級編完全制覇
🏆 上級編完全制覇
🏆 仙人編完全制覇



探求バッジ（各カテゴリ細分化）

国別バッジ:

🌍 2カ国
🌍 5カ国
🌍 10カ国
🌍 20カ国


品種バッジ:

🍇 3品種
🍇 5品種
🍇 10品種
🍇 20品種
🍇 50品種


価格帯バッジ:

💰 ～3000円を5本
💰 3000～5000円を5本
💰 5000～10000円を5本
💰 10000円～を5本


ヴィンテージバッジ:

📅 3年代
📅 5年代
📅 10年代



2.6.2 目標設定機能

デイリーゴール:

ワイン記録: 1本/日
クイズ: 5問/日
達成でXP獲得


週間チャレンジ:

記録本数目標（カスタマイズ可能）
クイズ正答数目標


月間テーマ:

「フランスワイン月間」
「赤ワイン探求月間」など


ストリーク:

ホーム画面上部に炎アイコンで表示
ストリークフリーズ（1日スキップ可能）



2.6.3 レベル・XPシステム

XP獲得方法:

ワイン記録: 10XP（クイック）/ 20XP（詳細）
クイズ正解: 5XP
デイリーゴール達成: 50XP
バッジ獲得: 100XP


レベル: 1～100（XP累積で上昇）

2.7 共有機能

公開範囲: 全体公開/非公開の切り替え（全記録一括設定）
共有内容: 記録したワイン情報すべて（写真含む）
コメント機能: なし
SNSシェア: バッジ獲得時の画像生成・シェア機能

2.8 統計・分析機能

基本統計:

総記録数
月別記録数グラフ
国別・品種別円グラフ
平均評価


香りチャート: レーダーチャートで視覚化
傾向分析: なし（将来の有料機能）

2.9 通知機能（PWA）

通知タイミング: 1日2回（朝・夜）
通知内容:

ワイン記録のリマインド
ストリーク維持のお知らせ
クイズ挑戦の促し
新バッジ獲得可能の通知


通知設定: ON/OFF切り替え、時間帯設定

2.10 将来の課金機能

無料版: すべての機能を無制限で利用可能（当面）
有料版（将来実装）:

LLMを使った詳細なアドバイス
高度な傾向分析
ペアリングのシェフ機能
ワイン会の参加権利抽選



3. 非機能要件
3.1 対応環境

対応デバイス: PC、スマートフォン、タブレット
対応ブラウザ:

Chrome系（推奨）
Safari（対応）
Edge（非対応）


オフライン時:

閲覧不可（オフライン画面表示）
下書きデータのみローカルストレージに保存



3.2 パフォーマンス要件

レスポンシブデザイン対応
画像の最適化（WebP形式、遅延読み込み）
初回読み込み3秒以内

3.3 セキュリティ要件

Google認証によるセキュアなログイン
作者のみが自分の記録を編集可能
HTTPSでの通信

4. デザイン要件
4.1 デザインコンセプト

ライトモード: ワイン畑の画像を背景に透かした明るいデザイン
ダークモード: バーの雰囲気を演出する落ち着いた大人のデザイン
ゲーミフィケーション要素: Duolingo風のカラフルで親しみやすいUI

4.2 カラースキーム

ライトモード:

メインカラー: ワインレッド（#722F37）
サブカラー: 緑（#2E7D32）
背景: 明るいベージュ（#FFF8E1）


ダークモード:

メインカラー: 深いバーガンディ（#4A0E0E）
サブカラー: ゴールド（#FFD700）
背景: ダークグレー（#1A1A1A）



4.3 レイアウト方針

ナビゲーション: 下部固定タブバー（スマホ）/ サイドバー（PC）
ページ構成:

ホーム（記録追加・下書き一覧）
記録一覧
クイズ
統計
プロフィール


アニメーション: バッジ獲得時、レベルアップ時、ストリーク更新時

5. システム構成
5.1 技術スタック

フロントエンド: React（PWA対応）
バックエンド: Firebase
データベース: Firebase Firestore
ホスティング: Firebase Hosting
認証: Firebase Authentication（Google認証）
ストレージ: Firebase Storage（画像保存）

5.2 外部API

OpenRouter/Groq（パーソナライズドクイズ用LLM）

5.3 開発環境

バージョン管理: GitHub
CI/CD: GitHub Actions（Firebaseへの自動デプロイ）
開発支援: Claude Code

6. データ構造
6.1 Firestoreコレクション

users: ユーザー情報、設定、統計
wines: ワイン記録
drafts: 下書き
badges: バッジ獲得履歴
quiz_progress: クイズ進捗
deleted_items: ゴミ箱（TTL: 3日）

7. 開発スケジュール
7.1 フェーズ分け

フェーズ1（MVP）:

基本的なワイン記録機能
ユーザー認証
記録一覧表示


フェーズ2（ゲーミフィケーション）:

バッジシステム
XP・レベルシステム
ストリーク機能


フェーズ3（学習機能）:

クイズ機能
復習システム


フェーズ4（詳細機能）:

統計・分析
PWA・通知
下書き機能



7.2 リリース予定

初回リリース: 2025年8月中

8. 予算
8.1 開発費用

0円～1,000円（Claude Code活用）

8.2 運用費用（月額）

Firebase利用料: ～500円
LLM API利用料: ～300円
ドメイン維持費: ～200円（年額2,400円÷12）
合計: 月額1,000円以内

9. 制約事項・前提条件
9.1 技術的制約

GitHubでプロジェクト管理
GitHub ActionsでFirebaseへの自動デプロイ
モバイルファースト設計

9.2 法的制約

年齢確認なし（自己責任での利用）
最小限の利用規約・プライバシーポリシー

9.3 開発体制

開発者: 1名（Claude Code支援）

10. 今後の検討事項

有料プラン導入時期と価格設定
コミュニティ機能の追加
AI画像認識によるラベル読み取り
ワインショップとの提携
多言語対応